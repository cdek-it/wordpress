=== CDEKDelivery ===
Contributors: cdekit
Tags: ecommerce, shipping, delivery, cdek, woocommerce
Requires at least: 6.0
Requires PHP: 7.4
Tested up to: 6.4
Stable tag: 3.15.5
License: GPL-3.0-only
License URI: https://www.gnu.org/licenses/gpl-3.0.html

Интеграция с доставкой от CDEK для вашего магазина WooCommerce.

== Description ==

CDEKDelivery обеспечивает интеграцию с доставкой от CDEK для вашего магазина на платформе WordPress WooCommerce.
Этот плагин позволяет настраивать параметры доставки в соответствии с требованиями вашего магазина и позволяет покупателям
выбирать доставку от CDEK при оформлении заказов.

Плагин умеет:

* Активировать тестовый режим для проверки работы без интеграции с реальными данными.
* Обрабатывать международные заказы и предоставлять соответствующие опции доставки.
* Автоматически отправлять заказы в СДЭК после оформления на сайте.
* Позволяет выбирать различные тарифы для отправки с учетом требований клиента и характеристик товаров.
* Менять стандартные названия тарифов, чтобы адаптировать их под свои нужды.
* Реализует режим многоместки для распределения элементов заказа по разным упаковкам.
* Позволяет создать заявку на вызов курьера.
* Видеть изменение статуса заказа на детальной странице заказа.
* Добавляет дополнительные дни к расчетным дням доставки, учитывая возможные задержки.
* Позволяет выбирать офис и адрес отправления на удобном виджете в настройках плагина.
* Задает габариты товара по умолчанию для более точного расчета стоимости доставки.
* Позволяет распечатывать квитанции заказов и ШК для отправки.
* Предоставляет выбор различных дополнительных услуг, таких как страхование и примерка, а также гибкую модификацию стоимости доставки в зависимости от выбранных услуг и параметров заказа.

## Особенности плагина
* Расчет стоимости и времени доставки
* Выбор пункта выдачи товаров через карту
* Простота установки, интеграция в WooCommerce
* Настройка данных магазина: адрес, выбор тарифа и типа отправки
* Возможность передачи актуальных данных о упаковке и автоматический подсчет веса заказа

## Доступы к сторонним сервисам

Плагин CDEKDelivery использует следующие сторонние сервисы для обеспечения своей функциональности:

1. **api.cdek.ru**: Для расчета стоимости и времени доставки заказа используется API CDEK. Политика конфиденциальности этого сервиса доступна по ссылке: [Политика конфиденциальности CDEK](https://www.cdek.ru/ru/privacy_policy/)

2. **api.edu.cdek.ru**: Для расчета стоимости и времени доставки заказа в тестовом режиме используется API CDEK. Политика конфиденциальности этого сервиса доступна по ссылке: [Политика конфиденциальности CDEK](https://www.cdek.ru/ru/privacy_policy/)

3. **ipecho.net**: Для определения IP-адреса пользователя используется сервис ipecho.net. Политика конфиденциальности этого сервиса доступна по ссылке: [Политика конфиденциальности ipecho.net](https://ipecho.net/developers.html)

### Личный кабинет CDEK
Для работы плагина необходимо получить доступы к сервисам CDEK. Для этого необходимо обратиться в службу поддержки CDEK и создать аккаунт в личном кабинете. После этого вам будут доступны ключи интеграции для работы с API CDEK.

### Яндекс.Карта
Плагин использует виджет компании CDEK, который использует карты Яндекс. Для работы виджета необходимо получить ключи доступа к API Яндекс.Карты. Процесс генерации ключа описан на странице: https://yandex.ru/dev/jsapi-v2-1/doc/ru/#get-api-key. Обязательно задайте параметр HTTP Referrer равный адресу вашего сайта для ключа.

## Обращение к сторонним сервисам
### API CDEK
Плагин использует API CDEK для расчета стоимости и времени доставки заказа, документация по ссылке https://api-docs.cdek.ru. Для этого плагин отправляет запросы на сервера CDEK с данными о заказе и получает ответ с расчетами.

### Виджет CDEK
Для выбора пункта выдачи заказа плагин использует виджет компании CDEK https://widget.cdek.ru/

== Installation ==

1. Установите плагин через меню "Плагины" в WordPress или загрузите архив в панели администратора.
2. Активируйте плагин.
3. Перейдите в раздел "WooCommerce" -> "Настройки" -> "Доставка" и выберите "CDEKDelivery".
4. Введите данные для подключения к API CDEK и настройте параметры доставки.
5. Заполните прочие настройки плагина и сохраните изменения.

Более подробная инструкция достпна по ссылке https://www.cdek.ru/storage/source/Integration/WordPress/Instruction.pdf?_t=1697091578

== Frequently Asked Questions ==

= Как настроить способы доставки CDEKDelivery? =

После активации плагина перейдите в раздел WooCommerce > Настройки > Доставка > CDEKDelivery. Здесь вы можете настроить тарифы доставки, параметры доставки и другие настройки, связанные с доставкой от CDEK.

= Требуется ли договор с CDEK для использования этого плагина? =

Да, для использования услуг доставки от CDEK вам необходимо заключить договор с CDEK.

= Есть ли тестовый режим? =

Да, плагин CDEKDelivery поддерживает тестовый режим. Вы можете настроить его в разделе настроек плагина для проверки его работы без ключей интеграции.

= Могу ли я использовать плагин для отправки международных заказов через CDEK? =

Да, международная доставка доступна.

= Какие дополнительные услуги есть? =

Доступны следующие дополнительные услуги:
- Страхование
- Бесплатная доставка от определенной суммы заказа
- Фиксированная стоимость доставки
- Возможность задать надбавку в процентах

== Screenshots ==

1. Страница настроек CDEKDelivery.
2. Блок с виджетом на странице настроек.
3. Страница чекаута с выбором способа доставки CDEK.

== Changelog ==

= 3.15.6 =
* Исправлена загрузка виджета.

= 3.15.5 =
* Исправлена передача ПВЗ в заказ.
* Исправлена ошибка выбора ПВЗ для медиатоваров.

= 3.15.4 =
* Исправлено применение правил доставки.
* Удален архивный тариф.

= 3.15.3 =
* Исправлена передача габаритов при автоматическом создании накладной.
* Исправлена передача доп. сбор с получателя за доставку.
* Исправлена ошибка создания заказа в случае, если заполнены только поля billing.

= 3.15.2 =
* Убраны нежелательные предупреждения

= 3.15.1 =
* Добавлена обработка ошибки при изменении метода доставки на СДЭК (отключен вывод предупреждения)

= 3.15.0 =
* Добавлен вывод статусов в виджет на детальной заказа
* Добавлены услуги "Запрет на осмотр", "Примерка" и "Частичная доставка"
* Исправлено позиционирование виджета

== Upgrade Notice ==

= 3.15.* =
Обновление в котором были добавлены услуги "Запрет на осмотр", "Примерка", "Частичная доставка". Также был добавлен вывод статусов в виджет на детальной заказа.
Рекомендуем обновить плагин для получения новых функций и исправления ошибок.

= 3.14.* =
Добавлена возможность настройть цену доставки в зависимости от режима. Поле billing_postcode и billing_last_name сделано необязательным для чекаута.

= 3.13.* =
Добавлена совместимость с новой версией виджета оформления заказа.
